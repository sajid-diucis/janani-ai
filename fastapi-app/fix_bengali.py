# Fix Bengali text in index.html by replacing mojibake with correct text
import re

with open('templates/index.html', 'r', encoding='utf-8') as f:
    content = f.read()

# Dictionary of mojibake -> correct Bengali text mappings
replacements = {
    # Title and header
    'Ã°Å¸Â¤Â° Ã Â¦Å“Ã Â¦Â¨Ã Â¦Â¨Ã Â§â‚¬ Ã Â¦Ã Â¦â€ Ã Â¦â€¡': 'ðŸ¤° à¦œà¦¨à¦¨à§€ AI',
    'Ã Â¦Â¬Ã Â¦Â¾Ã Â¦â€šÃ Â¦Â²Ã Â¦Â¾Ã Â¦Â¯Ã Â¦Â¼ Ã Â¦Â®Ã Â¦Â¾Ã Â¦Â¤Ã Â§Æ’Ã Â¦Â¸Ã Â§Ã Â¦Â¬Ã Â¦Â¾Ã Â¦Â¸Ã Â§Ã Â¦Â¥Ã Â§Ã Â¦Â¯ Ã Â¦Â¸Ã Â¦Â¹Ã Â¦Â¾Ã Â¦Â¯Ã Â¦Â¼Ã Â¦â€¢': 'à¦¬à¦¾à¦‚à¦²à¦¾à¦¯à¦¼ à¦®à¦¾à¦¤à§ƒà¦¸à§à¦¬à¦¾à¦¸à§à¦¥à§à¦¯ à¦¸à¦¹à¦¾à¦¯à¦¼à¦•',
    'Bengali Maternal Health Assistant': 'Bengali Maternal Health Assistant',
    
    # Tab buttons
    'Ã°Å¸Å½Â¤ Ã Â¦Â­Ã Â¦Â¯Ã Â¦Â¼Ã Â§â€¡Ã Â¦Â¸ Ã Â¦Å¡Ã Â§Ã Â¦Â¯Ã Â¦Â¾Ã Â¦Å¸': 'ðŸŽ¤ à¦­à¦¯à¦¼à§‡à¦¸ à¦šà§à¦¯à¦¾à¦Ÿ',
    'Ã°Å¸'Å  Ã Â¦ÂªÃ Â§Ã Â¦Â°Ã Â§â€¡Ã Â¦Â¸Ã Â¦â€¢Ã Â§Ã Â¦Â°Ã Â¦Â¿Ã Â¦ÂªÃ Â¦Â¶Ã Â¦Â¨': 'ðŸ’Š à¦ªà§à¦°à§‡à¦¸à¦•à§à¦°à¦¿à¦ªà¦¶à¦¨',
    'Ã°Å¸Å½ Ã Â¦â€“Ã Â¦Â¾Ã Â¦Â¦Ã Â§Ã Â¦Â¯ Ã Â¦Â¬Ã Â¦Â¿Ã Â¦Â¶Ã Â§Ã Â¦Â²Ã Â§â€¡Ã Â¦Â·Ã Â¦Â£': 'ðŸŽˆ à¦–à¦¾à¦¦à§à¦¯ à¦¬à¦¿à¦¶à§à¦²à§‡à¦·à¦£',
    
    # Voice section
    'Ã°Å¸â€”Â£Ã¯Â¸ Ã Â¦â€¢Ã Â¦Â¥Ã Â¦Â¾ Ã Â¦Â¬Ã Â¦Â²Ã Â§Ã Â¦Â¨ Ã Â¦Â¬Ã Â¦Â¾ Ã Â¦Å¸Ã Â¦Â¾Ã Â¦â€¡Ã Â¦Âª Ã Â¦â€¢Ã Â¦Â°Ã Â§Ã Â¦Â¨': 'ðŸ—£ï¸ à¦•à¦¥à¦¾ à¦¬à¦²à§à¦¨ à¦¬à¦¾ à¦Ÿà¦¾à¦‡à¦ª à¦•à¦°à§à¦¨',
    'Ã°Å¸Å½Â¤': 'ðŸŽ¤',
    'Ã Â¦Â°Ã Â§â€¡Ã Â¦â€¢Ã Â¦Â°Ã Â§Ã Â¦Â¡ Ã Â¦â€¢Ã Â¦Â°Ã Â¦Â¤Ã Â§â€¡ Ã Â¦Â®Ã Â¦Â¾Ã Â¦â€¡Ã Â¦â€¢ Ã Â¦Â¬Ã Â§â€¹Ã Â¦Â¤Ã Â¦Â¾Ã Â¦Â®Ã Â§â€¡ Ã Â¦Å¡Ã Â¦Â¾Ã Â¦ÂªÃ Â§Ã Â¦Â¨': 'à¦°à§‡à¦•à¦°à§à¦¡ à¦•à¦°à¦¤à§‡ à¦®à¦¾à¦‡à¦• à¦¬à§‹à¦¤à¦¾à¦®à§‡ à¦šà¦¾à¦ªà§à¦¨',
    'Ã Â¦Ã Â¦â€“Ã Â¦Â¾Ã Â¦Â¨Ã Â§â€¡ Ã Â¦Â²Ã Â¦Â¿Ã Â¦â€“Ã Â§Ã Â¦Â¨...': 'à¦à¦–à¦¾à¦¨à§‡ à¦²à¦¿à¦–à§à¦¨...',
    'Ã Â¦ÂªÃ Â¦Â¾Ã Â¦ Ã Â¦Â¾Ã Â¦Â¨': 'à¦ªà¦¾à¦ à¦¾à¦¨',
    
    # Food analysis
    'Ã°Å¸ Ã Â¦â€ Ã Â¦ÂªÃ Â¦Â¨Ã Â¦Â¾Ã Â¦Â° Ã Â¦Å“Ã Â¦Â¨Ã Â§Ã Â¦Â¯ Ã Â¦â€“Ã Â¦Â¾Ã Â¦Â¬Ã Â¦Â¾Ã Â¦Â° Ã Â¦ÂªÃ Â¦Â°Ã Â¦Â¾Ã Â¦Â®Ã Â¦Â°Ã Â§Ã Â¦Â¶': 'ðŸŽ à¦†à¦ªà¦¨à¦¾à¦° à¦œà¦¨à§à¦¯ à¦–à¦¾à¦¬à¦¾à¦° à¦ªà¦°à¦¾à¦®à¦°à§à¦¶',
    'Ã Â¦â€ Ã Â¦ÂªÃ Â¦Â¨Ã Â¦Â¾Ã Â¦Â° Ã Â¦Â¸Ã Â§Ã Â¦Â¬Ã Â¦Â¾Ã Â¦Â¸Ã Â§Ã Â¦Â¥Ã Â§Ã Â¦Â¯ Ã Â¦â€¦Ã Â¦Â¨Ã Â§Ã Â¦Â¯Ã Â¦Â¾Ã Â¦Â¯Ã Â¦Â¼Ã Â§â‚¬ AI Ã Â¦â€“Ã Â¦Â¾Ã Â¦Â¬Ã Â¦Â¾Ã Â¦Â° Ã Â¦ÂªÃ Â¦Â°Ã Â¦Â¾Ã Â¦Â®Ã Â¦Â°Ã Â§Ã Â¦Â¶ Ã Â¦Â¦Ã Â§â€¡Ã Â¦Â¬Ã Â§â€¡': 'à¦†à¦ªà¦¨à¦¾à¦° à¦¸à§à¦¬à¦¾à¦¸à§à¦¥à§à¦¯ à¦…à¦¨à§à¦¯à¦¾à¦¯à¦¼à§€ AI à¦–à¦¾à¦¬à¦¾à¦° à¦ªà¦°à¦¾à¦®à¦°à§à¦¶ à¦¦à§‡à¦¬à§‡',
    
    # Common Bengali words
    'Ã Â¦â€”Ã Â¦Â°Ã Â§Ã Â¦Â­Ã Â¦Â¾Ã Â¦Â¬Ã Â¦Â¸Ã Â§Ã Â¦Â¥Ã Â¦Â¾Ã Â¦Â° Ã Â¦Â¸Ã Â¦Â®Ã Â¦Â¯Ã Â¦Â¼': 'à¦—à¦°à§à¦­à¦¾à¦¬à¦¸à§à¦¥à¦¾à¦° à¦¸à¦®à¦¯à¦¼',
    'Ã Â§Â§Ã Â¦Â® Ã Â¦Â¤Ã Â§Ã Â¦Â°Ã Â§Ë†Ã Â¦Â®Ã Â¦Â¾Ã Â¦Â¸Ã Â¦Â¿Ã Â¦â€¢': 'à§§à¦® à¦¤à§à¦°à§ˆà¦®à¦¾à¦¸à¦¿à¦•',
    'Ã Â§Â¨Ã Â¦Â¯Ã Â¦Â¼ Ã Â¦Â¤Ã Â§Ã Â¦Â°Ã Â§Ë†Ã Â¦Â®Ã Â¦Â¾Ã Â¦Â¸Ã Â¦Â¿Ã Â¦â€¢': 'à§¨à¦¯à¦¼ à¦¤à§à¦°à§ˆà¦®à¦¾à¦¸à¦¿à¦•',
    'Ã Â§Â©Ã Â¦Â¯Ã Â¦Â¼ Ã Â¦Â¤Ã Â§Ã Â¦Â°Ã Â§Ë†Ã Â¦Â®Ã Â¦Â¾Ã Â¦Â¸Ã Â¦Â¿Ã Â¦â€¢': 'à§©à¦¯à¦¼ à¦¤à§à¦°à§ˆà¦®à¦¾à¦¸à¦¿à¦•',
    'Ã Â¦Â¸Ã Â¦Â¾Ã Â¦ÂªÃ Â§Ã Â¦Â¤Ã Â¦Â¾Ã Â¦Â¹Ã Â¦Â¿Ã Â¦â€¢ Ã Â¦Â¬Ã Â¦Â¾Ã Â¦Å“Ã Â§â€¡Ã Â¦Å¸': 'à¦¸à¦¾à¦ªà§à¦¤à¦¾à¦¹à¦¿à¦• à¦¬à¦¾à¦œà§‡à¦Ÿ',
    'Ã Â¦Å¸Ã Â¦Â¾Ã Â¦â€¢Ã Â¦Â¾': 'à¦Ÿà¦¾à¦•à¦¾',
    'Ã Â¦Â¸Ã Â§Ã Â¦Â¬Ã Â¦Â¾Ã Â¦Â¸Ã Â§Ã Â¦Â¥Ã Â§Ã Â¦Â¯ Ã Â¦Â¸Ã Â¦Â®Ã Â¦Â¸Ã Â§Ã Â¦Â¯Ã Â¦Â¾': 'à¦¸à§à¦¬à¦¾à¦¸à§à¦¥à§à¦¯ à¦¸à¦®à¦¸à§à¦¯à¦¾',
    'Ã Â¦Â°Ã Â¦â€¢Ã Â§Ã Â¦Â¤Ã Â¦Â¸Ã Â§Ã Â¦Â¬Ã Â¦Â²Ã Â§Ã Â¦ÂªÃ Â¦Â¤Ã Â¦Â¾': 'à¦°à¦•à§à¦¤à¦¸à§à¦¬à¦²à§à¦ªà¦¤à¦¾',
    'Ã Â¦Â¡Ã Â¦Â¾Ã Â¦Â¯Ã Â¦Â¼Ã Â¦Â¾Ã Â¦Â¬Ã Â§â€¡Ã Â¦Å¸Ã Â¦Â¿Ã Â¦Â¸': 'à¦¡à¦¾à¦¯à¦¼à¦¾à¦¬à§‡à¦Ÿà¦¿à¦¸',
    'Ã Â¦â€°Ã Â¦Å¡Ã Â§Ã Â¦Å¡ Ã Â¦Â°Ã Â¦â€¢Ã Â§Ã Â¦Â¤Ã Â¦Å¡Ã Â¦Â¾Ã Â¦Âª': 'à¦‰à¦šà§à¦š à¦°à¦•à§à¦¤à¦šà¦¾à¦ª',
    'Ã Â¦Ã Â¦Â²Ã Â¦Â¾Ã Â¦Â°Ã Â§Ã Â¦Å“Ã Â¦Â¿': 'à¦à¦²à¦¾à¦°à§à¦œà¦¿',
    'Ã Â¦Â¯Ã Â§â€¡Ã Â¦Â®Ã Â¦Â¨': 'à¦¯à§‡à¦®à¦¨',
    
    # Food button
    'Ã°Å¸Â¥â€” Ã Â¦â€ Ã Â¦Â®Ã Â¦Â¾Ã Â¦Â° Ã Â¦â€“Ã Â¦Â¾Ã Â¦Â¬Ã Â¦Â¾Ã Â¦Â° Ã Â¦Â¤Ã Â¦Â¾Ã Â¦Â²Ã Â¦Â¿Ã Â¦â€¢Ã Â¦Â¾ Ã Â¦Â¦Ã Â§â€¡Ã Â¦â€“Ã Â§Ã Â¦Â¨': 'ðŸ¥— à¦†à¦®à¦¾à¦° à¦–à¦¾à¦¬à¦¾à¦° à¦¤à¦¾à¦²à¦¿à¦•à¦¾ à¦¦à§‡à¦–à§à¦¨',
    
    # Document upload
    'Ã°Å¸"â€ž Ã Â¦â€ Ã Â¦ÂªÃ Â¦Â¨Ã Â¦Â¾Ã Â¦Â° Ã Â¦Â®Ã Â§â€¡Ã Â¦Â¡Ã Â¦Â¿Ã Â¦â€¢Ã Â§Ã Â¦Â¯Ã Â¦Â¾Ã Â¦Â² Ã Â¦Â¡Ã Â¦â€¢Ã Â§Ã Â¦Â®Ã Â§â€¡Ã Â¦Â¨Ã Â§Ã Â¦Å¸ Ã Â¦â€ Ã Â¦ÂªÃ Â¦Â²Ã Â§â€¹Ã Â¦Â¡ Ã Â¦â€¢Ã Â¦Â°Ã Â§Ã Â¦Â¨': 'ðŸ“„ à¦†à¦ªà¦¨à¦¾à¦° à¦®à§‡à¦¡à¦¿à¦•à§‡à¦² à¦¡à¦•à§à¦®à§‡à¦¨à§à¦Ÿ à¦†à¦ªà¦²à§‹à¦¡ à¦•à¦°à§à¦¨',
    'Ã°Å¸"Â¤ Ã Â¦Â¡Ã Â¦â€¢Ã Â§Ã Â¦Â®Ã Â§â€¡Ã Â¦Â¨Ã Â§Ã Â¦Å¸ Ã Â¦â€ Ã Â¦ÂªÃ Â¦Â²Ã Â§â€¹Ã Â¦Â¡ Ã Â¦â€¢Ã Â¦Â°Ã Â§Ã Â¦Â¨': 'ðŸ“¤ à¦¡à¦•à§à¦®à§‡à¦¨à§à¦Ÿ à¦†à¦ªà¦²à§‹à¦¡ à¦•à¦°à§à¦¨',
    
    # Voice assistant
    'Ã°Å¸Å½Â¤ Ã Â¦â€¢Ã Â¦Â¥Ã Â¦Â¾ Ã Â¦Â¬Ã Â¦Â²Ã Â§â€¡ Ã Â¦Å“Ã Â¦Â¾Ã Â¦Â¨Ã Â§Ã Â¦Â¨': 'ðŸŽ¤ à¦•à¦¥à¦¾ à¦¬à¦²à§‡ à¦œà¦¾à¦¨à§à¦¨',
    'Ã¢Å“Â¨ Ã Â¦Â¸Ã Â¦Â¹Ã Â¦Å“': 'âœ¨ à¦¸à¦¹à¦œ',
    'Ã¢Å“Â¨ Ã Â¦Ã Â¦Å¡Ã Â§Ã Â¦â€ºÃ Â¦Â¿Ã Â¦â€¢': 'âœ¨ à¦à¦šà§à¦›à¦¿à¦•',
    
    # Prescription
    'Ã°Å¸"Â· Ã Â¦ÂªÃ Â§Ã Â¦Â°Ã Â§â€¡Ã Â¦Â¸Ã Â¦â€¢Ã Â§Ã Â¦Â°Ã Â¦Â¿Ã Â¦ÂªÃ Â¦Â¶Ã Â¦Â¨ Ã Â¦Â¸Ã Â§Ã Â¦â€¢Ã Â§Ã Â¦Â¯Ã Â¦Â¾Ã Â¦Â¨ Ã Â¦â€¢Ã Â¦Â°Ã Â§Ã Â¦Â¨': 'ðŸ“· à¦ªà§à¦°à§‡à¦¸à¦•à§à¦°à¦¿à¦ªà¦¶à¦¨ à¦¸à§à¦•à§à¦¯à¦¾à¦¨ à¦•à¦°à§à¦¨',
}

# Apply replacements
for mojibake, correct in replacements.items():
    if mojibake in content:
        content = content.replace(mojibake, correct)
        print(f"Replaced: {mojibake[:30]}... -> {correct}")

# Save the fixed file
with open('templates/index.html', 'w', encoding='utf-8') as f:
    f.write(content)

print("\nâœ… Done! File saved.")
